import{d as f,u as k,a as $,b as B,c,e as s,f as m,g as n,w as H,n as L,h as U,i as _,j as x,v as y,o as u,_ as b,F as S,r as V,t as v,k as D,l as w}from"./index-BqRSA2mH.js";import{_ as C,U as P,a as I}from"./UiDrop-C1WLy2VV.js";const M={class:"info"},N={key:0,for:"upload",class:"label"},j={class:"info__stats"},z={class:"exp-input"},F=["disabled"],R=f({__name:"CharInfo",setup(i){const e=k(),g=$(),p=B(),d=()=>g.setPopup("levelUp"),h=l=>{const t=l.target.files,r=new FileReader;if(t&&t.length>0&&t[0].size/1024**2>2){p.setNotification({type:"error",message:"Your file is to big"});return}r.onload=()=>{r.result&&e.setPortrait(r.result.toString())},t&&t[0]&&r.readAsDataURL(t[0])},o=l=>{const t=e.stats[l.stat];t&&t.current<l.maxValue&&e.setStat(l.stat,+t.current+1)},a=l=>{const t=e.stats[l.stat];t&&t.current>0&&e.setStat(l.stat,+t.current-1)};return(l,t)=>(u(),c("div",M,[s("div",{class:U(["portrait",{uploaded:n(e).portrait}]),style:L({backgroundImage:`url(${n(e).portrait})`})},[s("input",{id:"upload",ref:"upload",type:"file",class:"input",accept:"image/png, image/jpeg",onChange:t[0]||(t[0]=r=>h(r))},null,544),n(e).portrait?m("",!0):(u(),c("label",N," Upload portrait (up to 2 MB) ")),n(e).portrait?(u(),c("button",{key:1,class:"clear",onClick:t[1]||(t[1]=H(r=>n(e).setPortrait(null),["prevent"]))},[...t[6]||(t[6]=[s("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M1 1L8 8M15 15L8 8M8 8L15 1L1 15",stroke:"#272727","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])):m("",!0)],6),s("div",j,[s("div",z,[t[8]||(t[8]=s("label",{class:"exp-input__label"},"Level / Exp",-1)),x(s("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>n(e).level=r),class:"exp-input__input exp-input__level",readonly:""},null,512),[[y,n(e).level]]),t[9]||(t[9]=s("span",{class:"exp-input__devider"},"/",-1)),x(s("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>n(e).exp=r),class:"exp-input__input exp-input__exp",readonly:""},null,512),[[y,n(e).exp]]),s("button",{class:"exp-input__add",disabled:!n(e).name,onClick:d},[...t[7]||(t[7]=[s("p",null,"+",-1)])],8,F)]),_(C,{stats:n(e).stats,onGrowStat:t[4]||(t[4]=r=>o(r)),onDownStat:t[5]||(t[5]=r=>a(r))},null,8,["stats"])])]))}}),E=b(R,[["__scopeId","data-v-9a6aab27"]]),G={class:"items__header"},A={class:"pips-input"},T=["value"],Y=f({__name:"CharItems",setup(i){const e=k(),g=p=>e.setValue("pips",+p.value);return(p,d)=>{const h=V("maska");return u(),c(S,null,[s("header",G,[d[2]||(d[2]=s("h2",{class:"items__heading"}," Inventory ",-1)),_(P),s("div",A,[d[1]||(d[1]=s("label",{class:"pips-input__label"},"Pips",-1)),x(s("input",{class:"pips-input__input",value:n(e).pips,onInput:d[0]||(d[0]=o=>g(o.target))},null,40,T),[[h,"###"]])])]),_(I,{"body-back":n(e).bodyBack,"pack-back":n(e).packBack},null,8,["body-back","pack-back"])],64)}}}),q={class:"hireling"},J={class:"header"},K={class:"heading"},O={class:"details"},Q={class:"wrapper"},W=f({__name:"HirelingCard",props:{hireling:{}},setup(i){const e=k(),g=$(),p=o=>{if(typeof i.hireling.index=="number"){const a=e.hirelings[i.hireling.index].stats[o.stat];a&&a.current<o.maxValue&&e.setHirelingStat(o.stat,+a.current+1,i.hireling.index)}},d=o=>{if(typeof i.hireling.index=="number"){const a=e.hirelings[i.hireling.index].stats[o.stat];a&&a.current>0&&e.setHirelingStat(o.stat,+a.current-1,i.hireling.index)}},h=o=>{typeof o=="number"&&(g.setPopup("removeHireling"),e.setHirelingIndex(o))};return(o,a)=>(u(),c("div",q,[s("div",J,[s("h3",K,v(i.hireling.name),1),typeof i.hireling.index=="number"?(u(),c("button",{key:0,class:"remove",onClick:a[0]||(a[0]=l=>h(i.hireling.index))}," Remove ")):m("",!0)]),s("div",O," Look: "+v(i.hireling.details),1),s("div",Q,[_(C,{stats:i.hireling.stats,"hireling-index":i.hireling.index,onGrowStat:a[1]||(a[1]=l=>p(l)),onDownStat:a[2]||(a[2]=l=>d(l))},null,8,["stats","hireling-index"]),_(I,{"body-back":i.hireling.bodyBack,"pack-back":i.hireling.packBack,"hireling-index":i.hireling.index},null,8,["body-back","pack-back","hireling-index"])])]))}}),X=b(W,[["__scopeId","data-v-0213075f"]]),Z={class:"hirelings"},tt={class:"header"},et={class:"count"},st={key:0,class:"list"},it=f({__name:"HirelingsList",setup(i){const e=k();return(g,p)=>(u(),c("div",Z,[s("div",tt,[p[0]||(p[0]=s("h2",{class:"heading"}," Hirelings ",-1)),s("span",et,v(n(e).hirelings.length),1)]),n(e).hirelings?(u(),c("div",st,[(u(!0),c(S,null,D(n(e).hirelings,d=>(u(),w(X,{key:`hr__${d}`,hireling:d},null,8,["hireling"]))),128))])):m("",!0)]))}}),nt=b(it,[["__scopeId","data-v-bbe33171"]]),ot=f({__name:"CharCard",setup(i){const e=k();return(g,p)=>(u(),c(S,null,[_(E),_(Y),n(e).hirelings.length?(u(),w(nt,{key:0})):m("",!0)],64))}});export{ot as default};

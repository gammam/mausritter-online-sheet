import{d as h,u as C,c as u,e as c,F as g,k as f,o as l,h as B,j as w,t as I,v as S,g as o,p,q as b,s as v,l as _,x as D,f as $,y as U,n as j,_ as q}from"./index-6fmN3eQt.js";const O={class:"stats"},V={class:"stats__list"},P={class:"stats__label"},H=["onUpdate:modelValue","readonly"],M=["onUpdate:modelValue","readonly"],N={class:"stat-buttons"},z=["onClick"],W=["onClick"],J=h({__name:"CharStats",props:{stats:{type:Object,required:!0},hirelingIndex:{type:Number,required:!1,default:null}},emits:["growStat","downStat"],setup(n,{emit:a}){const i=C(),d=n,m=a,k=(s,r)=>{m("growStat",{stat:s,maxValue:r})},t=s=>{m("downStat",{stat:s})};return(s,r)=>(l(),u("div",O,[r[2]||(r[2]=c("span",{class:"stats__info stats__max"},"Max",-1)),r[3]||(r[3]=c("span",{class:"stats__info stats__current"},"Current",-1)),c("div",V,[(l(!0),u(g,null,f(d.stats,e=>(l(),u("div",{key:e.name,class:B(["stats__item",e.name==="hp"&&"stats__hp"])},[c("label",P,I(e.name),1),w(c("input",{"onUpdate:modelValue":y=>e.max=y,type:"number",class:"stats__input",readonly:o(i).creationMethod==="automatic"},null,8,H),[[S,e.max]]),w(c("input",{"onUpdate:modelValue":y=>e.current=y,type:"number",class:"stats__input",readonly:o(i).creationMethod==="automatic"},null,8,M),[[S,e.current]]),c("div",N,[c("button",{class:"stat-buttons__button stat-buttons__button--grow",onClick:y=>k(e.name,e.max)},[...r[0]||(r[0]=[c("p",null,"+",-1)])],8,z),c("button",{class:"stat-buttons__button stat-buttons__button--down",onClick:y=>t(e.name)},[...r[1]||(r[1]=[c("p",null,"-",-1)])],8,W)])],2))),128))])]))}}),F=["id","data-index","data-warband"],E={key:0,class:"body-items__name"},L=["id","data-index","data-warband"],T={key:0,class:"pack-items__name"},K=h({__name:"CharInventory",props:{bodyBack:{type:Object,required:!0},packBack:{type:Object,required:!0},hirelingIndex:{type:Number,required:!1,default:null},isWarband:{type:String||null,required:!1,default:null}},setup(n){const a=n,i=C(),d=(k,t)=>{typeof a.hirelingIndex!="number"?k>+a.bodyBack[t].item.used?i.updateItems("bodyBack",{...a.bodyBack,[t]:{name:a.bodyBack[t].name,item:{...a.bodyBack[t].item,used:k}}}):i.updateItems("bodyBack",{...a.bodyBack,[t]:{name:a.bodyBack[t].name,item:{...a.bodyBack[t].item,used:+a.bodyBack[t].item.used-1}}}):k>+a.bodyBack[t].item.used?i.updateHirelingItems("bodyBack",{...a.bodyBack,[t]:{name:a.bodyBack[t].name,item:{...a.bodyBack[t].item,used:k}}},a.hirelingIndex):i.updateHirelingItems("bodyBack",{...a.bodyBack,[t]:{name:a.bodyBack[t].name,item:{...a.bodyBack[t].item,used:+a.bodyBack[t].item.used-1}}},a.hirelingIndex)},m=(k,t)=>{typeof a.hirelingIndex!="number"?k>+a.packBack[t].item.used?i.updateItems("packBack",{...a.packBack,[t]:{name:a.packBack[t].name,item:{...a.packBack[t].item,used:k}}}):i.updateItems("packBack",{...a.packBack,[t]:{name:a.packBack[t].name,item:{...a.packBack[t].item,used:+a.packBack[t].item.used-1}}}):k>+a.packBack[t].item.used?i.updateHirelingItems("packBack",{...a.packBack,[t]:{name:a.packBack[t].name,item:{...a.packBack[t].item,used:k}}},a.hirelingIndex):i.updateHirelingItems("packBack",{...a.packBack,[t]:{name:a.packBack[t].name,item:{...a.packBack[t].item,used:+a.packBack[t].item.used-1}}},a.hirelingIndex)};return(k,t)=>(l(),u("div",{class:B(["inventory",Object.keys(n.bodyBack).length===2&&"inventory--hireling"])},[c("div",{class:B(["body-items",Object.keys(n.bodyBack).length===2&&"body-items--hireling"])},[(l(!0),u(g,null,f(n.bodyBack,(s,r)=>(l(),u("div",{id:s.name.toString(),key:`it__${s}`,"data-index":n.hirelingIndex,"data-warband":n.isWarband,class:"body-items__back",onDrop:t[0]||(t[0]=e=>o(v)(e,"bodyBack",o(i))),onDragover:t[1]||(t[1]=(...e)=>o(b)&&o(b)(...e)),onDragleave:t[2]||(t[2]=(...e)=>o(p)&&o(p)(...e))},[s.item?(l(),_(D,{key:1,item:s.item,onPointClick:e=>d(e,r)},null,8,["item","onPointClick"])):(l(),u("span",E,I(s.name),1))],40,F))),128))],2),c("div",{class:B(["pack-items",Object.keys(n.packBack).length===4&&"pack-items--hireling"])},[(l(!0),u(g,null,f(n.packBack,(s,r)=>(l(),u("div",{id:s.name.toString(),key:`pb__${s}`,"data-index":n.hirelingIndex,"data-warband":n.isWarband,class:B(["pack-items__back",{"pack-items__back--double":s.item?.slots===2&&s.item?.orientation==="horizontal","pack-items__back--tall":s.item?.slots===2&&s.item?.orientation==="vertical","pack-items__back--occupied":s.occupiedBy}]),onDrop:t[3]||(t[3]=e=>o(v)(e,"packBack",o(i))),onDragover:t[4]||(t[4]=(...e)=>o(b)&&o(b)(...e)),onDragleave:t[5]||(t[5]=(...e)=>o(p)&&o(p)(...e))},[!s.item&&!s.occupiedBy?(l(),u("span",T,I(s.name),1)):s.item?.group==="conditions"?(l(),_(U,{key:1,condition:s.item},null,8,["condition"])):s.item?(l(),_(D,{key:2,item:s.item,onPointClick:e=>m(e,r)},null,8,["item","onPointClick"])):$("",!0)],42,L))),128))],2)],2))}}),A=h({__name:"UiDrop",props:{width:{default:221}},setup(n){const a=C();return(i,d)=>(l(),u("div",{class:"input",style:j({width:`${n.width}px`}),onDrop:d[0]||(d[0]=m=>o(v)(m,"drop",o(a))),onDragover:d[1]||(d[1]=(...m)=>o(b)&&o(b)(...m)),onDragleave:d[2]||(d[2]=(...m)=>o(p)&&o(p)(...m))},[...d[3]||(d[3]=[c("label",{id:"drop",class:"label"},"Drop item here to remove",-1)])],36))}}),Q=q(A,[["__scopeId","data-v-70047383"]]);export{Q as U,J as _,K as a};
